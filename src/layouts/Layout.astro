---
import '../styles/normalize.css'
import '../styles/reset.local.css'
import '../styles/var.scss'

import Footer from '@components/Footer.astro'

import Navbar from '@components/Navbar.astro'

export interface Props {
  title: string
}

const { title } = Astro.props
---

<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta
      name='viewport'
      content='width=device-width'
    />
    <link
      rel='icon'
      type='image/svg+xml'
      href='/favicon.svg'
    />
    <meta
      name='generator'
      content={Astro.generator}
    />
    <title>{title}</title>
  </head>
  <body>
    <div class='gloss'></div>
    <div class='interferences'></div>
    <Navbar />
    <main class='body'>
      <slot />
    </main>
    <Footer />
    <style lang='scss'>
      html,
      body {
        min-height: 100%;
      }
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
          Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        display: flex;
        flex-direction: column;

        --scrollbar-border-radius: 1rem;
        &::-webkit-scrollbar {
          height: 0.9rem;
        }

        &::-webkit-scrollbar-track {
          border-radius: var(--scrollbar-border-radius);
          border: 1px solid lightgray;
        }

        &::-webkit-scrollbar-thumb {
          border-radius: var(--scrollbar-border-radius);
          background-color: #d5d5d5;

          @media (hover: hover) {
            &:hover {
              background-color: #aaaaaa;
            }
          }

          &:active {
            background-color: #808080;
          }
        }
      }
      .body {
        color: var(--color-dark-1);
        display: flex;
        flex-grow: 1;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: var(--size-spacing-4);
        padding: var(--size-spacing-3) 0;
      }
      .gloss,
      .interferences {
        position: fixed;
        inset: 0;
      }
      .gloss {
        background: radial-gradient(rgb(66, 40, 85) 0%, rgb(40, 10, 61) 70%);
        background-repeat: no-repeat;
        background-attachment: fixed;
        z-index: -1;
      }
      .interferences {
        z-index: 1;
        pointer-events: none;
        animation: flicker 0.066666666s linear infinite;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%),
          linear-gradient(
            90deg,
            rgba(66, 40, 85, 0.04),
            rgba(40, 10, 61, 0.02),
            rgba(0, 0, 255, 0.04)
          );
        background-size: 100% 10px, 15px 100%;
      }
      @keyframes flicker {
        0% {
          opacity: 0.3;
        }
        5% {
          opacity: 0.4;
        }
        10% {
          opacity: 0.2;
        }
        15% {
          opacity: 0.9;
        }
        20% {
          opacity: 0.2;
        }
        25% {
          opacity: 0.8;
        }
        30% {
          opacity: 0.6;
        }
        35% {
          opacity: 0.7;
        }
        40% {
          opacity: 0.2;
        }
        45% {
          opacity: 0.8;
        }
        50% {
          opacity: 0.9;
        }
        55% {
          opacity: 0.1;
        }
        60% {
          opacity: 0.2;
        }
        65% {
          opacity: 0.7;
        }
        70% {
          opacity: 0.5;
        }
        75% {
          opacity: 0.37;
        }
        80% {
          opacity: 0.71;
        }
        85% {
          opacity: 0.7;
        }
        90% {
          opacity: 0.7;
        }
        95% {
          opacity: 0.36;
        }
        100% {
          opacity: 0.24;
        }
      }
    </style>
  </body>
</html>
